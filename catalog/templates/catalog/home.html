{% extends 'catalog/base.html' %}
{% load static %}

{% block title %}Skystore - –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞{% endblock %}

{% block content %}
<div class="pricing-header px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center">
    <h1 class="display-4">Skystore</h1>
    <p class="lead">Skystore - —ç—Ç–æ –æ—Ç–ª–∏—á–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤–∞—à–∏—Ö –ø–ª–∞–≥–∏–Ω–æ–≤ –∏ –ø—Ä–∏–º–µ—Ä–æ–≤ –∫–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–π –≤—ã –±—ã —Ö–æ—Ç–µ–ª–∏
        –ø—Ä–æ–¥–∞—Ç—å</p>
    <!-- üÜï –ö–Ω–æ–ø–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞ -->
    <a href="{% url 'catalog:product_create' %}" class="btn btn-success btn-lg mt-3">‚ûï –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä</a>
</div>

<div class="container">
    <!-- –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ —á–µ—Ä–µ–∑ —Ü–∏–∫–ª -->
    <div class="row text-center">
        {% for product in products %}
        <div class="col-lg-4 col-md-6 mb-4">
            <div class="card mb-4 box-shadow product-card h-100">
                <!-- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ -->
                {% if product.image %}
                    <img src="{{ product.image.url }}" class="card-img-top" alt="{{ product.name }}" style="height: 200px; object-fit: cover;">
                {% else %}
                    <div class="card-img-top bg-light d-flex align-items-center justify-content-center" style="height: 200px;">
                        <span class="text-muted">–ù–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</span>
                    </div>
                {% endif %}

                <div class="card-header">
                    <h4 class="my-0 font-weight-normal">{{ product.name }}</h4>
                </div>
                <div class="card-body d-flex flex-column">
                    <h1 class="card-title pricing-card-title">{{ product.price }} ‚ÇΩ</h1>

                    <!-- –û–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –æ–±—Ä–µ–∑–∞–Ω–Ω–æ–µ –¥–æ 100 —Å–∏–º–≤–æ–ª–æ–≤ -->
                    <div class="mt-3 mb-4 text-start m-3 flex-grow-1">
                        <p class="card-text">
                            {{ product.description|default:"–û–ø–∏—Å–∞–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç"|truncatechars:100 }}
                        </p>
                    </div>

                    <!-- üÜï –ì—Ä—É–ø–ø–∞ –∫–Ω–æ–ø–æ–∫ CRUD -->
                    <div class="btn-group w-100 mt-auto" role="group">
                        <a href="{% url 'catalog:product_detail' product.pk %}" class="btn btn-primary">üëÅÔ∏è –ü–æ–¥—Ä–æ–±–Ω–µ–µ</a>
                        <a href="{% url 'catalog:product_update' product.pk %}" class="btn btn-warning">‚úèÔ∏è</a>
                        <a href="{% url 'catalog:product_delete' product.pk %}" class="btn btn-danger">üóëÔ∏è</a>
                    </div>
                </div>
            </div>
        </div>
        {% empty %}
        <div class="col-12">
            <div class="alert alert-info text-center">
                –¢–æ–≤–∞—Ä—ã –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç. <a href="{% url 'catalog:product_create' %}" class="alert-link">–î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–≤—ã–π —Ç–æ–≤–∞—Ä</a>
            </div>
        </div>
        {% endfor %}
    </div>

    <footer class="pt-4 my-md-5 pt-md-5 border-top">
        <div class="row">
            <div class="col-12 col-md">
                SkyStore
                <small class="d-block mb-3 text-muted">&copy; {% now "Y" %}</small>
            </div>
            <div class="col-6 col-md">
                <h5>–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</h5>
                <ul class="list-unstyled text-small">
                    <li><a class="text-muted" href="#">–†–∞—Å—Å—ã–ª–∫–∏</a></li>
                    <li><a class="text-muted" href="#">–¢–µ–ª–µ–≥—Ä–∞–º –±–æ—Ç—ã</a></li>
                    <li><a class="text-muted" href="#">–ü–æ–ª–µ–∑–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã</a></li>
                    <li><a class="text-muted" href="#">–í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</a></li>
                    <li><a class="text-muted" href="#">–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã</a></li>
                </ul>
            </div>
            <div class="col-6 col-md">
                <h5>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ</h5>
                <ul class="list-unstyled text-small">
                    <li><a class="text-muted" href="#">–ú—ã –ø–∏—à–µ–º</a></li>
                </ul>
            </div>
            <div class="col-6 col-md">
                <h5>–û –Ω–∞—Å</h5>
                <ul class="list-unstyled text-small">
                    <li><a class="text-muted" href="{% url 'catalog:contacts' %}">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
                </ul>
            </div>
        </div>
    </footer>
</div>
{% endblock %}